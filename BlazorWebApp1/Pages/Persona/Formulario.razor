@inject NavigationManager nm
@inject Repositorios.PersonaRepositorio  repo


<h3>Formualrio de Registro de Datos</h3>

<EditForm Model="persona" OnValidSubmit="OnValidSubmit">

    <DataAnnotationsValidator />

    <div>
        <div class="form-group mx-sm-3 mb-2">
            <label>Identificacion:</label>
            <div>
                <InputText class="form-control" @bind-Value="@persona.Identificacion"></InputText>
                <ValidationMessage For="@(() => persona.Identificacion)" />
            </div>
        </div>


        <div class="form-group mx-sm-3 mb-2">
            <label>Nombres:</label>
            <div>
                <InputText class="form-control" @bind-Value="@persona.Nombres"></InputText>
                <ValidationMessage For="@(() => persona.Nombres)" />
            </div>
        </div>


        <div class="form-group mx-sm-3 mb-2">
            <label>Apellidos:</label>
            <div>
                <InputText class="form-control" @bind-Value="@persona.Apellidos"></InputText>
                <ValidationMessage For="@(() => persona.Apellidos)" />
            </div>
        </div>
    </div>

    <div>
        <div>
            <div class="form-group mx-sm-3 mb-2">
                <button class="btn btn-success" type="submit">Registrar</button>
                <button class="btn btn-danger" type="button" @onclick="Cancelar">Cancelar</button>
            </div>

        </div>
    </div>



</EditForm>

@code {

    [Parameter] public Model.DTOPersona persona { get; set; }
    [Parameter] public EventCallback OnValidSubmit { get; set; }

    private void Cancelar()
    {
        nm.NavigateTo("persona/listar");
    }

}
